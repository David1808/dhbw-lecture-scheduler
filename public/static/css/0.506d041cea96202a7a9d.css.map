{"version":3,"sources":["/Users/yannik/Documents/DHBW/dhbw-lecture-scheduler-landingpage/src/src/App.vue","/Users/yannik/Documents/DHBW/dhbw-lecture-scheduler-landingpage/src/components/src/components/LandingPage.vue"],"names":[],"mappings":"AAcA,KACA,6CAAA,CACA,kCAAA,CACA,iCAAA,CACA,iBAAA,CACA,aAAA,CACA,eACA,CCwEA,wBACA,eAAA,CACA,eACA,CAEA,+BACA,WAAA,CACA,0BAAA,CAAA,0BAAA,CAAA,mBACA,CAEA,gCACA,iBACA,CAEA,wBACA,gBAAA,CACA,iBAAA,CACA,cAAA,CACA,UACA","file":"0.506d041cea96202a7a9d.css","sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>DHBW Vorlesungsplan</h1>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <div>\n    <div>\n      <b-field\n        v-if=\"courseMethod == 0\"\n        label=\"Verwendet dein Kurs eine PDF-Datei oder greifst du über eine Website (Rapla) auf deinen Vorlesungsplan zu?\"\n      >\n        <div>\n          <button\n            style=\"margin:10px\"\n            class=\"button is-primary is-medium\"\n            @click=\"rapla(false)\"\n          >PDF-Datei</button>\n          <button\n            style=\"margin:10px\"\n            class=\"button is-primary is-medium\"\n            @click=\"rapla(true)\"\n          >Website</button>\n        </div>\n      </b-field>\n      <b-field\n        v-if=\"courseMethod == 1\"\n        label=\"Bitte füge deinen Rapla-Link in das untenstehende Textfeld ein.\"\n      >\n        Alternativ reicht es auch, nur den Rapla-Key einzufügen.\n        <div style=\"text-align: center;margin:30px\">\n          <span style=\"max-width: 300px;margin:10px\">\n            <b-field\n              :type=\"!raplaKey && originalRaplaUrl ? 'is-danger' : ''\"\n              :message=\"!raplaKey && originalRaplaUrl ? 'Dieser Rapla-Link ist nicht gültig' : ''\"\n            >\n              <b-input\n                autocomplete=\"off\"\n                autocorrect=\"off\"\n                autocapitalize=\"off\"\n                v-model=\"originalRaplaUrl\"\n                @input=\"raplaUrlChanged\"\n                placeholder=\"https://rapla.dhbw-stuttgart.de/rapla?key=abcdef\"\n              />\n            </b-field>\n          </span>\n        </div>\n      </b-field>\n      <b-field v-if=\"courseMethod == 2\" label=\"1. Kurs wählen\">\n        <b-select\n          style=\"text-align: center\"\n          v-model=\"course\"\n          placeholder=\"Kurs\"\n          rounded\n          v-if=\"Object.keys(courses).length > 0\"\n        >\n          <option\n            v-for=\"course in Object.keys(courses)\"\n            v-bind:key=\"course\"\n            :value=\"course\"\n          >{{ courses[course].title }}</option>\n        </b-select>\n        <b-select style=\"text-align: center\" placeholder=\"Kurs\" rounded loading v-else></b-select>\n      </b-field>\n      <b-field v-if=\"(course || raplaKey) && (ios || macos)\" :label=\"secondLabel\">\n        <div>\n          <button class=\"button is-primary is-medium\" @click=\"subscribe\">abonnieren</button>\n        </div>\n      </b-field>\n      <div class=\"urlInputField\" v-else-if=\"(course || raplaKey) && (!macos && !ios)\">\n        <b-field\n          label=\"2. Dein Betriebssystem wird leider nicht nativ unterstützt. Bitte importiere folgenden iCal-Link in eine Synchronisierungsanwendung deiner Wahl:\"\n        >\n          <div style=\"text-align: center\">\n            <div class=\"boxedUrlLink\">\n              <b-input disabled=\"true\" type=\"text\" :value=\"fullSubscriptionUrl\"/>\n              <b-icon\n                style=\"margin-left: 10px\"\n                v-clipboard:copy=\"fullSubscriptionUrl\"\n                icon=\"content-copy\"\n                size=\"is-medium\"\n              />\n            </div>\n          </div>\n        </b-field>\n      </div>\n      <b-loading :active.sync=\"isLoading\" :canCancel=\"true\"></b-loading>\n    </div>\n\n    <footer>\n      Made with\n      <b-icon icon=\"heart\" size=\"is-small\"/>by\n      <a href=\"https://yanniks.de\">Yannik Ehlert</a>\n    </footer>\n  </div>\n</template>\n\n<style scoped>\n.gplay {\n  max-width: 200px;\n  max-height: 65px;\n}\n\n.boxedUrlLink {\n  margin: 30px;\n  display: inline-flex;\n}\n\n.urlInputField {\n  text-align: center;\n}\n\nfooter {\n  margin-left: 10px;\n  margin-right: 10px;\n  margin-top: 30%;\n  color: gray;\n}\n</style>\n\n<script>\n/* eslint-disable */\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      // 0 = undecided, 1 = rapla, 2 = PDF\n      courseMethod: 0,\n      isLoading: false,\n      courses: {},\n      course: \"\",\n      originalRaplaUrl: \"\",\n      raplaKey: undefined,\n      macos: navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0,\n      ios: !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform),\n      android: navigator.userAgent.toLowerCase().indexOf(\"android\") > -1,\n      link: \"webcal://lectures.yanniks.app/lectures\",\n      secondLabel: \"\"\n    };\n  },\n  beforeMount() {\n    this.fetchCourses();\n    if (this.macos) {\n      this.secondLabel = \"2. Kalender durch Klick abonnieren\";\n    } else {\n      this.secondLabel = \"2. Kalender durch Tipp abonnieren\";\n    }\n  },\n  computed: {\n    fullSubscriptionUrl: function() {\n      if (this.raplaKey) {\n        return `${this.link}?key=${this.raplaKey}`;\n      }\n      return `${this.link}/${this.course}`;\n    }\n  },\n  methods: {\n    subscribe() {\n      if (this.android) {\n        // intent://dhbwservices.yanniks.cloud/lectures/wwi2016a#Intent;scheme=webcal;package=de.yanniks.dhbwlecturescheduler;end\n        window.location.href =\n          \"intent://dhbwservices.yanniks.cloud/lectures/\" +\n          this.course +\n          \"#Intent;scheme=webcal;package=de.yanniks.dhbwlecturescheduler;end\";\n        return;\n      }\n      window.location.href = this.fullSubscriptionUrl;\n      const vm = this;\n      vm.isLoading = true;\n      setTimeout(() => {\n        vm.isLoading = false;\n      }, 10 * 1000);\n    },\n    /// Returns the query variable from a passed URL object\n    getQueryVariable(url, variable) {\n      if (!url.search || url.search.substr(0, 1) !== \"?\") {\n        return undefined;\n      }\n      var query = url.search.substring(1);\n      var vars = query.split(\"&\");\n      for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        if (decodeURIComponent(pair[0]) == variable) {\n          return decodeURIComponent(pair[1]);\n        }\n      }\n      return undefined;\n    },\n    // Called in case the passed URL changed. Sets the raplaKey variable to the correct new value.\n    raplaUrlChanged(newVal) {\n      const trimmedUrl = newVal.trim();\n      let key = undefined;\n      if (\n        trimmedUrl.substr(0, 37) === \"https://rapla.dhbw-stuttgart.de/rapla\" ||\n        trimmedUrl.substr(0, 36) === \"http://rapla.dhbw-stuttgart.de/rapla\"\n      ) {\n        const url = new URL(trimmedUrl);\n        const parsedKey = this.getQueryVariable(url, \"key\");\n        if (parsedKey !== undefined && parsedKey.length === 64) {\n          key = parsedKey;\n        }\n      }\n      if (trimmedUrl.indexOf(\"&\") === -1 && trimmedUrl.length == 64) {\n        key = trimmedUrl;\n      }\n      console.log(`New key value: ${key}`);\n      this.raplaKey = key;\n    },\n    // Called after first selection button press.\n    rapla(usesRapla) {\n      if (usesRapla) {\n        this.courseMethod = 1;\n      } else {\n        this.courseMethod = 2;\n      }\n    },\n    fetchCourses() {\n      axios.get(\"https://lectures.yanniks.app/courses\").then(response => {\n        this.courses = response.data;\n      });\n    }\n  }\n};\n</script>\n"]}